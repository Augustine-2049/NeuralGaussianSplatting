## 可视化denoiser方案
### 存储
- 图片 400 * 400 * 3
- 降噪器 400 * 400 * 9
- 特征 400 * 400 * 29
- 一张的大小：160000 * 41 = 6M
- 应该存一次前向视频中的，100 * 6 = 600M
- 直接concat一起后存到pt, npz, ...

### 显示
方案：
1. import cv2 # 交互性差
2. import tkinter # 暂定
3. JavaScript + HTML5 Canvas

#### 数据存储与读取
##### torch
```python
# [100 * 400 * 400 * 3]
torch.save(tensor, 'history_img.pt')
# [100 * 400 * 400 * 9 * 9]
torch.save(tensor, 'history_denoiser.pt')
# [100 * 400 * 400 * 29]
torch.save(tensor, 'history_feature.pt')

loaded_tensor = torch.load('history_img.pt')
...
```

##### numpy
```python
# history_imgs.append(np.array)
# history_imgs = [np.array, ..., np.array]
np.savez(os.path.join(videos_dir, "all_images.npz"), *history_imgs)
dir = r"G:\Lab\NGSassist\output\33d61472-2\videos\all_images.npz"
data = np.load(dir)
for key in data.keys():
    print(key)
    print(data[key].shape)
    print(data[key].min(), data[key].max())        

```



### 

